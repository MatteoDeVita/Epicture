{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"../NativeAnimatedHelper","data":{"isAsync":false}},{"name":"invariant","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  'use strict';\n\n  var _classCallCheck = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/classCallCheck\");\n\n  var _createClass = _$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/createClass\");\n\n  var NativeAnimatedHelper = _$$_REQUIRE(_dependencyMap[2], \"../NativeAnimatedHelper\");\n\n  var NativeAnimatedAPI = NativeAnimatedHelper.API;\n\n  var invariant = _$$_REQUIRE(_dependencyMap[3], \"invariant\");\n\n  var _uniqueId = 1;\n\n  var AnimatedNode = function () {\n    _createClass(AnimatedNode, [{\n      key: \"__attach\",\n      value: function __attach() {}\n    }, {\n      key: \"__detach\",\n      value: function __detach() {\n        if (this.__isNative && this.__nativeTag != null) {\n          NativeAnimatedHelper.API.dropAnimatedNode(this.__nativeTag);\n          this.__nativeTag = undefined;\n        }\n      }\n    }, {\n      key: \"__getValue\",\n      value: function __getValue() {}\n    }, {\n      key: \"__getAnimatedValue\",\n      value: function __getAnimatedValue() {\n        return this.__getValue();\n      }\n    }, {\n      key: \"__addChild\",\n      value: function __addChild(child) {}\n    }, {\n      key: \"__removeChild\",\n      value: function __removeChild(child) {}\n    }, {\n      key: \"__getChildren\",\n      value: function __getChildren() {\n        return [];\n      }\n    }]);\n\n    function AnimatedNode() {\n      _classCallCheck(this, AnimatedNode);\n\n      this._listeners = {};\n    }\n\n    _createClass(AnimatedNode, [{\n      key: \"__makeNative\",\n      value: function __makeNative() {\n        if (!this.__isNative) {\n          throw new Error('This node cannot be made a \"native\" animated node');\n        }\n\n        if (this.hasListeners()) {\n          this._startListeningToNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"addListener\",\n      value: function addListener(callback) {\n        var id = String(_uniqueId++);\n        this._listeners[id] = callback;\n\n        if (this.__isNative) {\n          this._startListeningToNativeValueUpdates();\n        }\n\n        return id;\n      }\n    }, {\n      key: \"removeListener\",\n      value: function removeListener(id) {\n        delete this._listeners[id];\n\n        if (this.__isNative && !this.hasListeners()) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"removeAllListeners\",\n      value: function removeAllListeners() {\n        this._listeners = {};\n\n        if (this.__isNative) {\n          this._stopListeningForNativeValueUpdates();\n        }\n      }\n    }, {\n      key: \"hasListeners\",\n      value: function hasListeners() {\n        return !!Object.keys(this._listeners).length;\n      }\n    }, {\n      key: \"_startListeningToNativeValueUpdates\",\n      value: function _startListeningToNativeValueUpdates() {\n        var _this = this;\n\n        if (this.__nativeAnimatedValueListener && !this.__shouldUpdateListenersForNewNativeTag) {\n          return;\n        }\n\n        if (this.__shouldUpdateListenersForNewNativeTag) {\n          this.__shouldUpdateListenersForNewNativeTag = false;\n\n          this._stopListeningForNativeValueUpdates();\n        }\n\n        NativeAnimatedAPI.startListeningToAnimatedNodeValue(this.__getNativeTag());\n        this.__nativeAnimatedValueListener = NativeAnimatedHelper.nativeEventEmitter.addListener('onAnimatedValueUpdate', function (data) {\n          if (data.tag !== _this.__getNativeTag()) {\n            return;\n          }\n\n          _this._onAnimatedValueUpdateReceived(data.value);\n        });\n      }\n    }, {\n      key: \"_onAnimatedValueUpdateReceived\",\n      value: function _onAnimatedValueUpdateReceived(value) {\n        this.__callListeners(value);\n      }\n    }, {\n      key: \"__callListeners\",\n      value: function __callListeners(value) {\n        for (var _key in this._listeners) {\n          this._listeners[_key]({\n            value: value\n          });\n        }\n      }\n    }, {\n      key: \"_stopListeningForNativeValueUpdates\",\n      value: function _stopListeningForNativeValueUpdates() {\n        if (!this.__nativeAnimatedValueListener) {\n          return;\n        }\n\n        this.__nativeAnimatedValueListener.remove();\n\n        this.__nativeAnimatedValueListener = null;\n        NativeAnimatedAPI.stopListeningToAnimatedNodeValue(this.__getNativeTag());\n      }\n    }, {\n      key: \"__getNativeTag\",\n      value: function __getNativeTag() {\n        var _this$__nativeTag;\n\n        NativeAnimatedHelper.assertNativeAnimatedModule();\n        invariant(this.__isNative, 'Attempt to get native tag from node not marked as \"native\"');\n        var nativeTag = (_this$__nativeTag = this.__nativeTag) != null ? _this$__nativeTag : NativeAnimatedHelper.generateNewNodeTag();\n\n        if (this.__nativeTag == null) {\n          this.__nativeTag = nativeTag;\n          NativeAnimatedHelper.API.createAnimatedNode(nativeTag, this.__getNativeConfig());\n          this.__shouldUpdateListenersForNewNativeTag = true;\n        }\n\n        return nativeTag;\n      }\n    }, {\n      key: \"__getNativeConfig\",\n      value: function __getNativeConfig() {\n        throw new Error('This JS animated node type cannot be used as native animated node');\n      }\n    }, {\n      key: \"toJSON\",\n      value: function toJSON() {\n        return this.__getValue();\n      }\n    }]);\n\n    return AnimatedNode;\n  }();\n\n  module.exports = AnimatedNode;\n});","lineCount":184,"map":[[2,0,11,0],[8,0,13,0],[8,6,13,6,"NativeAnimatedHelper"],[8,26,13,26],[8,29,13,29,"require"],[8,40,13,36],[8,86,13,0],[10,0,15,0],[10,6,15,6,"NativeAnimatedAPI"],[10,23,15,23],[10,26,15,26,"NativeAnimatedHelper"],[10,46,15,46],[10,47,15,47,"API"],[10,50,15,0],[12,0,16,0],[12,6,16,6,"invariant"],[12,15,16,15],[12,18,16,18,"require"],[12,29,16,25],[12,61,16,0],[14,0,20,0],[14,6,20,4,"_uniqueId"],[14,15,20,13],[14,18,20,16],[14,19,20,0],[16,6,24,6,"AnimatedNode"],[16,18],[19,33,27,19],[19,34,27,21],[22,33,28,19],[23,0,29,4],[23,12,29,8],[23,17,29,13,"__isNative"],[23,27,29,8],[23,31,29,27],[23,36,29,32,"__nativeTag"],[23,47,29,27],[23,51,29,47],[23,55,29,4],[23,57,29,53],[24,0,30,6,"NativeAnimatedHelper"],[24,10,30,6,"NativeAnimatedHelper"],[24,30,30,26],[24,31,30,27,"API"],[24,34,30,6],[24,35,30,31,"dropAnimatedNode"],[24,51,30,6],[24,52,30,48],[24,57,30,53,"__nativeTag"],[24,68,30,6],[25,0,31,6],[25,15,31,11,"__nativeTag"],[25,26,31,6],[25,29,31,25,"undefined"],[25,38,31,6],[26,0,32,5],[27,0,33,3],[30,35,34,20],[30,36,34,22],[33,43,35,28],[34,0,36,4],[34,15,36,11],[34,20,36,16,"__getValue"],[34,30,36,11],[34,32,36,4],[35,0,37,3],[38,33,38,13,"child"],[38,38],[38,40,38,34],[38,41,38,36],[41,36,39,16,"child"],[41,41],[41,43,39,37],[41,44,39,39],[44,38,40,39],[45,0,41,4],[45,15,41,11],[45,17,41,4],[46,0,42,3],[49,0,49,2],[49,28,49,16],[50,0,49,16],[52,0,50,4],[52,11,50,9,"_listeners"],[52,21,50,4],[52,24,50,22],[52,26,50,4],[53,0,51,3],[57,37,53,17],[58,0,54,4],[58,12,54,8],[58,13,54,9],[58,18,54,14,"__isNative"],[58,28,54,4],[58,30,54,26],[59,0,55,6],[59,16,55,12],[59,20,55,16,"Error"],[59,25,55,12],[59,26,55,22],[59,77,55,12],[59,78,55,6],[60,0,56,5],[62,0,58,4],[62,12,58,8],[62,17,58,13,"hasListeners"],[62,29,58,8],[62,31,58,4],[62,33,58,29],[63,0,59,6],[63,15,59,11,"_startListeningToNativeValueUpdates"],[63,50,59,6],[64,0,60,5],[65,0,61,3],[68,34,70,14,"callback"],[68,42],[68,44,70,55],[69,0,71,4],[69,12,71,10,"id"],[69,14,71,12],[69,17,71,15,"String"],[69,23,71,21],[69,24,71,22,"_uniqueId"],[69,33,71,31],[69,35,71,21],[69,36,71,4],[70,0,72,4],[70,13,72,9,"_listeners"],[70,23,72,4],[70,24,72,20,"id"],[70,26,72,4],[70,30,72,26,"callback"],[70,38,72,4],[72,0,73,4],[72,12,73,8],[72,17,73,13,"__isNative"],[72,27,73,4],[72,29,73,25],[73,0,74,6],[73,15,74,11,"_startListeningToNativeValueUpdates"],[73,50,74,6],[74,0,75,5],[76,0,76,4],[76,15,76,11,"id"],[76,17,76,4],[77,0,77,3],[80,37,85,17,"id"],[80,39],[80,41,85,35],[81,0,86,4],[81,15,86,11],[81,20,86,16,"_listeners"],[81,30,86,11],[81,31,86,27,"id"],[81,33,86,11],[81,34,86,4],[83,0,87,4],[83,12,87,8],[83,17,87,13,"__isNative"],[83,27,87,8],[83,31,87,27],[83,32,87,28],[83,37,87,33,"hasListeners"],[83,49,87,28],[83,51,87,4],[83,53,87,49],[84,0,88,6],[84,15,88,11,"_stopListeningForNativeValueUpdates"],[84,50,88,6],[85,0,89,5],[86,0,90,3],[89,43,97,29],[90,0,98,4],[90,13,98,9,"_listeners"],[90,23,98,4],[90,26,98,22],[90,28,98,4],[92,0,99,4],[92,12,99,8],[92,17,99,13,"__isNative"],[92,27,99,4],[92,29,99,25],[93,0,100,6],[93,15,100,11,"_stopListeningForNativeValueUpdates"],[93,50,100,6],[94,0,101,5],[95,0,102,3],[98,37,104,26],[99,0,105,4],[99,15,105,11],[99,16,105,12],[99,17,105,13,"Object"],[99,23,105,19],[99,24,105,20,"keys"],[99,28,105,13],[99,29,105,25],[99,34,105,30,"_listeners"],[99,44,105,13],[99,46,105,42,"length"],[99,52,105,4],[100,0,106,3],[103,60,108,40],[104,0,108,40],[106,0,109,4],[106,12,110,6],[106,17,110,11,"__nativeAnimatedValueListener"],[106,46,110,6],[106,50,111,6],[106,51,111,7],[106,56,111,12,"__shouldUpdateListenersForNewNativeTag"],[106,94,109,4],[106,96,112,6],[107,0,113,6],[108,0,114,5],[110,0,116,4],[110,12,116,8],[110,17,116,13,"__shouldUpdateListenersForNewNativeTag"],[110,55,116,4],[110,57,116,53],[111,0,117,6],[111,15,117,11,"__shouldUpdateListenersForNewNativeTag"],[111,53,117,6],[111,56,117,52],[111,61,117,6],[113,0,118,6],[113,15,118,11,"_stopListeningForNativeValueUpdates"],[113,50,118,6],[114,0,119,5],[116,0,121,4,"NativeAnimatedAPI"],[116,8,121,4,"NativeAnimatedAPI"],[116,25,121,21],[116,26,121,22,"startListeningToAnimatedNodeValue"],[116,59,121,4],[116,60,121,56],[116,65,121,61,"__getNativeTag"],[116,79,121,56],[116,81,121,4],[117,0,122,4],[117,13,122,9,"__nativeAnimatedValueListener"],[117,42,122,4],[117,45,122,41,"NativeAnimatedHelper"],[117,65,122,61],[117,66,122,62,"nativeEventEmitter"],[117,84,122,41],[117,85,122,81,"addListener"],[117,96,122,41],[117,97,123,6],[117,120,122,41],[117,122,124,6],[117,132,124,6,"data"],[117,136,124,10],[117,138,124,14],[118,0,125,8],[118,14,125,12,"data"],[118,18,125,16],[118,19,125,17,"tag"],[118,22,125,12],[118,27,125,25],[118,32,125,29],[118,33,125,30,"__getNativeTag"],[118,47,125,25],[118,49,125,8],[118,51,125,48],[119,0,126,10],[120,0,127,9],[122,0,128,8],[122,10,128,8],[122,15,128,12],[122,16,128,13,"_onAnimatedValueUpdateReceived"],[122,46,128,8],[122,47,128,44,"data"],[122,51,128,48],[122,52,128,49,"value"],[122,57,128,8],[123,0,129,7],[123,9,122,41],[123,10,122,4],[124,0,131,3],[127,53,133,33,"value"],[127,58],[127,60,133,48],[128,0,134,4],[128,13,134,9,"__callListeners"],[128,28,134,4],[128,29,134,25,"value"],[128,34,134,4],[129,0,135,3],[132,38,137,18,"value"],[132,43],[132,45,137,39],[133,0,138,4],[133,13,138,9],[133,17,138,15,"key"],[133,21,138,4],[133,25,138,22],[133,30,138,27,"_listeners"],[133,40,138,4],[133,42,138,39],[134,0,139,6],[134,15,139,11,"_listeners"],[134,25,139,6],[134,26,139,22,"key"],[134,30,139,6],[134,32,139,27],[135,0,139,28,"value"],[135,12,139,28,"value"],[135,17,139,33],[135,19,139,28,"value"],[136,0,139,27],[136,11,139,6],[137,0,140,5],[138,0,141,3],[141,60,143,40],[142,0,144,4],[142,12,144,8],[142,13,144,9],[142,18,144,14,"__nativeAnimatedValueListener"],[142,47,144,4],[142,49,144,45],[143,0,145,6],[144,0,146,5],[146,0,148,4],[146,13,148,9,"__nativeAnimatedValueListener"],[146,42,148,4],[146,43,148,39,"remove"],[146,49,148,4],[148,0,149,4],[148,13,149,9,"__nativeAnimatedValueListener"],[148,42,149,4],[148,45,149,41],[148,49,149,4],[149,0,150,4,"NativeAnimatedAPI"],[149,8,150,4,"NativeAnimatedAPI"],[149,25,150,21],[149,26,150,22,"stopListeningToAnimatedNodeValue"],[149,58,150,4],[149,59,150,55],[149,64,150,60,"__getNativeTag"],[149,78,150,55],[149,80,150,4],[150,0,151,3],[153,39,153,27],[154,0,153,27],[156,0,154,4,"NativeAnimatedHelper"],[156,8,154,4,"NativeAnimatedHelper"],[156,28,154,24],[156,29,154,25,"assertNativeAnimatedModule"],[156,55,154,4],[157,0,155,4,"invariant"],[157,8,155,4,"invariant"],[157,17,155,13],[157,18,156,6],[157,23,156,11,"__isNative"],[157,33,155,13],[157,35,157,6],[157,95,155,13],[157,96,155,4],[158,0,160,4],[158,12,160,10,"nativeTag"],[158,21,160,19],[158,45,161,6],[158,50,161,11,"__nativeTag"],[158,61,160,19],[158,93,161,26,"NativeAnimatedHelper"],[158,113,161,46],[158,114,161,47,"generateNewNodeTag"],[158,132,161,26],[158,134,160,4],[160,0,163,4],[160,12,163,8],[160,17,163,13,"__nativeTag"],[160,28,163,8],[160,32,163,28],[160,36,163,4],[160,38,163,34],[161,0,164,6],[161,15,164,11,"__nativeTag"],[161,26,164,6],[161,29,164,25,"nativeTag"],[161,38,164,6],[162,0,165,6,"NativeAnimatedHelper"],[162,10,165,6,"NativeAnimatedHelper"],[162,30,165,26],[162,31,165,27,"API"],[162,34,165,6],[162,35,165,31,"createAnimatedNode"],[162,53,165,6],[162,54,166,8,"nativeTag"],[162,63,165,6],[162,65,167,8],[162,70,167,13,"__getNativeConfig"],[162,87,167,8],[162,89,165,6],[163,0,169,6],[163,15,169,11,"__shouldUpdateListenersForNewNativeTag"],[163,53,169,6],[163,56,169,52],[163,60,169,6],[164,0,170,5],[166,0,172,4],[166,15,172,11,"nativeTag"],[166,24,172,4],[167,0,173,3],[170,42,174,30],[171,0,175,4],[171,14,175,10],[171,18,175,14,"Error"],[171,23,175,10],[171,24,176,6],[171,91,175,10],[171,92,175,4],[172,0,178,3],[175,31,179,16],[176,0,180,4],[176,15,180,11],[176,20,180,16,"__getValue"],[176,30,180,11],[176,32,180,4],[177,0,181,3],[183,0,184,0,"module"],[183,2,184,0,"module"],[183,8,184,6],[183,9,184,7,"exports"],[183,16,184,0],[183,19,184,17,"AnimatedNode"],[183,31,184,0]],"functionMap":{"names":["<global>","AnimatedNode","__attach","__detach","__getValue","__getAnimatedValue","__addChild","__removeChild","__getChildren","constructor","__makeNative","addListener","removeListener","removeAllListeners","hasListeners","_startListeningToNativeValueUpdates","NativeAnimatedHelper.nativeEventEmitter.addListener$argument_1","_onAnimatedValueUpdateReceived","__callListeners","_stopListeningForNativeValueUpdates","__getNativeTag","__getNativeConfig","toJSON"],"mappings":"AAA;ACuB;ECG,mBD;EEC;GFK;EGC,oBH;EIC;GJE;EKC,kCL;EMC,qCN;EOC;GPE;EQO;GRE;ESE;GTQ;EUS;GVO;EWQ;GXK;EYO;GZK;EaE;GbE;EcE;MCgB;ODK;GdE;EgBE;GhBE;EiBE;GjBI;EkBE;GlBQ;EmBE;GnBoB;EoBC;GpBI;EqBC;GrBE;CDC"}},"type":"js/module"}]}